"use strict";(self.webpackChunkscrubbit_music_app_application=self.webpackChunkscrubbit_music_app_application||[]).push([[592],{6225:(U,g,l)=>{l.d(g,{z:()=>v});var e=l(5412),t=l(4650),u=l(8527),_=l(3456),p=l(6198),f=l(7185),d=l(6895);function m(c,r){if(1&c){const i=t.EpF();t.TgZ(0,"div"),t._uU(1),t.TgZ(2,"div",1)(3,"h1",2),t._uU(4),t.qZA(),t.TgZ(5,"div",3),t._uU(6),t.qZA()(),t.TgZ(7,"div",4)(8,"button",5),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.submitProfileData())}),t._uU(9,"Confirm"),t.qZA(),t._uU(10,"\xa0\xa0 "),t.TgZ(11,"button",6),t._uU(12,"Cancel"),t.qZA()()()}if(2&c){const i=t.oxw();t.xp6(1),t.hij(" ",i.data.isCancel," "),t.xp6(3),t.Oqu(i.data.title),t.xp6(2),t.hij(" ",i.data.message," "),t.xp6(5),t.Q6J("mat-dialog-close",!0)}}function h(c,r){if(1&c){const i=t.EpF();t.TgZ(0,"div")(1,"div")(2,"h1",2),t._uU(3),t.qZA()(),t.TgZ(4,"div",4)(5,"button",5),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.deleteMusicItem())}),t._uU(6,"Confirm"),t.qZA(),t._uU(7,"\xa0\xa0 "),t.TgZ(8,"button",6),t._uU(9,"Cancel"),t.qZA()()()}if(2&c){const i=t.oxw();t.xp6(3),t.Oqu(i.data.title),t.xp6(5),t.Q6J("mat-dialog-close",!0)}}function C(c,r){if(1&c){const i=t.EpF();t.TgZ(0,"div")(1,"div")(2,"h1",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"button",5),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.getBackToUpload())}),t._uU(8,"Ok"),t.qZA(),t._uU(9,"\xa0\xa0 "),t.TgZ(10,"button",6),t._uU(11,"Cancel"),t.qZA()()()}if(2&c){const i=t.oxw();t.xp6(3),t.Oqu(i.data.title),t.xp6(2),t.hij(" ",i.data.message," "),t.xp6(5),t.Q6J("mat-dialog-close",!0)}}let v=(()=>{class c{constructor(i,o,n,s,a,x){this.authService=i,this.router=o,this.coreService=n,this.toastr=s,this.dialogRef=a,this.data=x,this.validationError={}}ngOnInit(){}show(i){this.coreService.spinnerShow(i)}submitProfileData(){this.data.profileData&&(this.show(!0),this.coreService.put("user/details",this.data.profileData).subscribe({next:i=>{this.show(!1),this.dialogRef.close(),this.toastr.success("Email sent Successfully, please verify your email.","Success",{timeOut:3e3}),this.authService.clearSessionStorage(),sessionStorage.setItem("isEmailUpdate","true"),this.router.navigate(["/landing-page"])},error:()=>{this.show(!1),this.dialogRef.close()}}))}deleteMusicItem(){this.show(!0),this.coreService.delete("track/custom_track/"+this.data.musicFile).subscribe({next:i=>{this.toastr.success("Item deleted Successfully","Success",{timeOut:3e3}),this.show(!1),this.dialogRef.close(i)},error:()=>{}})}getBackToUpload(){this.dialogRef.close(),sessionStorage.removeItem("$CID$"),this.router.navigate(["/file-upload"])}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(u.e),t.Y36(_.F0),t.Y36(p.p),t.Y36(f._W),t.Y36(e.so),t.Y36(e.WI))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-confirmation-dialog"]],decls:3,vars:3,consts:[[4,"ngIf"],[1,"font-poppins"],["mat-dialog-title","",1,"p-24","mb-1"],["mat-dialog-content","",1,"content","text-muted"],[2,"float","right","margin","20px"],[1,"btn","btn-confirm","font-poppins",3,"click"],[1,"btn","btn-confirm","font-poppins",3,"mat-dialog-close"]],template:function(i,o){1&i&&(t.YNc(0,m,13,4,"div",0),t.YNc(1,h,10,2,"div",0),t.YNc(2,C,12,3,"div",0)),2&i&&(t.Q6J("ngIf",!o.data.deleteConfirmationFile&&!o.data.isCancel&&!o.data.somethingWentWrong),t.xp6(1),t.Q6J("ngIf",o.data.deleteConfirmationFile&&!o.data.isCancel&&!o.data.somethingWentWrong),t.xp6(1),t.Q6J("ngIf",o.data.isCancel||o.data.somethingWentWrong))},dependencies:[d.O5,e.ZT,e.uh,e.xY],styles:[".mat-dialog-container[_ngcontent-%COMP%]{padding:24px!important;display:block!important}.content[_ngcontent-%COMP%]{padding:0 24px!important}.btn-confirm[_ngcontent-%COMP%]{outline:none;color:#fff;background:#0096FF;border-radius:29px;width:136px;height:42px;border:none}.btn-confirm[_ngcontent-%COMP%]:hover{color:#fff!important}"]}),c})()},9360:(U,g,l)=>{l.d(g,{Y:()=>c});var e=l(4650),t=l(6225),u=l(6198),_=l(5412),p=l(3456),f=l(8527),d=l(6895);function m(r,i){1&r&&(e.TgZ(0,"div",17)(1,"span",18),e._uU(2,"Skip"),e.qZA()())}function h(r,i){if(1&r){const o=e.EpF();e.TgZ(0,"div",6)(1,"h1",7),e._uU(2,"Customize all your audio tracks"),e.qZA(),e.TgZ(3,"h5",8),e._uU(4,"Create, Customize & Add sound effects to your Audio for every event in one go."),e.qZA(),e.TgZ(5,"div",9),e.NdJ("filesChangeEmiter",function(s){e.CHM(o);const a=e.oxw();return e.KtG(a.onFileChange(s))}),e.TgZ(6,"div",10)(7,"input",11,12),e.NdJ("change",function(s){e.CHM(o);const a=e.oxw();return a.onFileChange(s),e.KtG(a.musicUpload(s))}),e.qZA(),e.TgZ(9,"button",13),e.NdJ("click",function(){e.CHM(o);const s=e.MAs(8);return e.KtG(s.click())}),e._uU(10,"Upload Music "),e._UZ(11,"img",14),e.qZA(),e.TgZ(12,"p",15),e._uU(13),e.qZA()()(),e.YNc(14,m,3,0,"div",16),e.qZA()}if(2&r){const o=e.oxw();e.Q6J("ngClass","home"===o.url?"mt-5":""),e.xp6(12),e.Q6J("ngClass",o.fileError?"color-error":"text-muted"),e.xp6(1),e.Oqu(o.fileError?"Please select valid file!":"mp3 & wav files are allowed"),e.xp6(1),e.Q6J("ngIf","file-upload"===o.url)}}function C(r,i){if(1&r&&(e.TgZ(0,"div",19)(1,"p",20),e._uU(2),e.qZA(),e.TgZ(3,"div",21)(4,"div",22),e._UZ(5,"div",23),e.qZA()(),e.TgZ(6,"div",24)(7,"button",25),e._uU(8,"Cancel"),e.qZA()()()),2&r){const o=e.oxw();e.xp6(2),e.hij("Loading ",o.progress,""),e.xp6(3),e.Udp("width",o.progress)}}function v(r,i){1&r&&(e.TgZ(0,"span",26),e._UZ(1,"div",27),e.qZA())}let c=(()=>{class r{constructor(o,n,s,a){this.coreService=o,this.dialog=n,this.router=s,this.authService=a,this.showprogress=!1,this.hideProgress=!0,this.fileError=!1,this.filesChangeEmiter=new e.vpe,this.files=[]}onDragOver(o){o.preventDefault(),o.stopPropagation()}onDragLeave(o){o.preventDefault(),o.stopPropagation()}ngOnInit(){this.url=this.router.url.split("/")[1]}show(o){this.coreService.spinnerShow(o)}onDrop(o){o.preventDefault(),o.stopPropagation();let s=o.dataTransfer.files;this.filesChangeEmiter.emit(s);const a=new FormData;a.append("file",o.dataTransfer.files[0]),this.onUpload(a,s[0].type,!0)}onFileChange(o){if(o.target.files[0]){var n=new FileReader;n.onload=()=>{o(n.result)},n.onload=s=>{}}this.files=Object.keys(o).map(s=>o[s])}musicUpload(o){const n=new FormData;n.set("file",o.target.files[0]),this.onUpload(n,o,!1)}onUpload(o,n,s){!1===s&&(n.target&&n.target.files&&n.target.files[0].type&&n.target.files[0]&&"video/mp4"!==n.target.files[0].type&&"audio/wav"!==n.target.files[0].type&&"audio/mpeg"!==n.target.files[0].type&&"audio"!==n.target.files[0].type?(this.fileError=!0,this.show(!1)):this.fileError=!1),!0===s&&("audio/wav"!==n&&"video/mp4"!==n&&"audio/mpeg"!==n&&"audio"!==n?(this.fileError=!0,this.show(!1)):this.fileError=!1),!1===this.fileError&&(this.show(!0),this.progress="0%",this.showprogress=!0,this.hideProgress=!1,this.coreService.post("track/original_track/upload",o).subscribe({next:a=>{this.show(!1),a&&(this.progress="100%",sessionStorage.setItem("$url$",a.original_track_url),sessionStorage.setItem("$id$",a.file_id),sessionStorage.setItem("$isupload$","isOriginalUpload"),this.router.navigate(["/home/"+a.file_id]))},error:()=>{this.dialog.open(t.z,{disableClose:!0,data:{somethingWentWrong:!0,title:"Something went wrong!",message:"Please try again with original track upload."}}),this.show(!1)}}))}ngOnDestroy(){sessionStorage.removeItem("isEmailUpdate")}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(u.p),e.Y36(_.uw),e.Y36(p.F0),e.Y36(f.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-file-upload"]],hostBindings:function(o,n){1&o&&e.NdJ("dragover",function(a){return n.onDragOver(a)})("dragleave",function(a){return n.onDragLeave(a)})("drop",function(a){return n.onDrop(a)})},decls:6,vars:5,consts:[["rel","stylesheet","href","/assets/css/bootstrap.min.css"],[1,"container-fluid",2,"background-color","#EDF7FF",3,"ngClass"],[1,"auth-wrapper",3,"ngClass"],["class","main justify-content-center align-items-center",3,"ngClass",4,"ngIf"],["class","container",4,"ngIf"],["class","section",4,"ngIf"],[1,"main","justify-content-center","align-items-center",3,"ngClass"],[1,"fs-42","font-nunito","color-title-subtitle"],[1,"fs-18","font-poppins","color-title-subtitle"],["fileDragDrop","",1,"upload-card","mr-4","ml-4","dropzone","justify-content-center","align-items-center","mt-5",3,"filesChangeEmiter"],[1,"upload-card-body","mt-5","mb-5"],["hidden","","type","file","name","file","id","file","accept",".mp3, audio/mpeg3","multiple","",3,"change"],["profileUpload",""],["type","button",1,"btn","btn-blue","fs-16","font-poppins","pr-3","pl-3",3,"click"],["src","/assets/dashboard-assets/upload.png"],[1,"font-poppins","fs-14","mt-2",3,"ngClass"],["routerLink","/home","class","fs-20 font-poppins cursor-pointer float-right mt-3",4,"ngIf"],["routerLink","/home",1,"fs-20","font-poppins","cursor-pointer","float-right","mt-3"],[1,"mr-4","skip","color-title-subtitle"],[1,"container"],[1,"font-nunito","mb-5","fs-42"],[1,"mb-4"],[1,"progress"],[1,"progress-bar"],[1,""],["type","button",1,"cancel","fs-14","font-poppins","text-muted",2,"cursor","not-allowed"],[1,"section"],[1,"mt-6","background-linear-gradient"]],template:function(o,n){1&o&&(e._UZ(0,"link",0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,h,15,4,"div",3),e.YNc(4,C,9,3,"div",4),e.qZA(),e.YNc(5,v,2,0,"span",5),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngClass","home"===n.url?"p-0":""),e.xp6(1),e.Q6J("ngClass","home"===n.url?"height-unset":""),e.xp6(1),e.Q6J("ngIf",n.hideProgress),e.xp6(1),e.Q6J("ngIf",n.showprogress),e.xp6(1),e.Q6J("ngIf","home"===n.url))},dependencies:[d.mk,d.O5,p.rH],styles:[".auth-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;justify-content:center;overflow:hidden;min-width:100%;min-height:calc(100vh - 52px);text-align:center}.color-title-subtitle[_ngcontent-%COMP%]{color:#0f293c}.upload-card[_ngcontent-%COMP%]{justify-content:center;box-shadow:none;border-style:none;background:rgba(255,255,255,.8);border:1px dashed #0F293C;border-radius:20px}.btn-blue[_ngcontent-%COMP%]{background:#0094FF;border-radius:29px;height:52px;color:#fff!important;font-size:18px;font-family:Poppins;border:none}.progress-bar[_ngcontent-%COMP%]{background:#0094FF;width:60%;height:80%}.progress[_ngcontent-%COMP%]{background-color:#d3d3d3;height:9px}.cancel[_ngcontent-%COMP%]{border:1px solid #6C6E76;border-radius:30px;color:#6c6e76;width:100px;height:50px}.skip[_ngcontent-%COMP%]{text-decoration:underline}.height-unset[_ngcontent-%COMP%]{min-height:unset}.background-linear-gradient[_ngcontent-%COMP%]{background:linear-gradient(to left,#1C2333 0%,#084274 100%)}.section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:74px;width:100%}.color-error[_ngcontent-%COMP%]{color:#dc3545}"]}),r})()}}]);